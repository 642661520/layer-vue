(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-786de6f7"],{"0cff":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"doc"}},[n("div",{staticClass:"menu"},e._l(e.aData,(function(t){return n("div",{key:t.id,class:[t.class,t.id===e.active?"active":""],on:{click:function(n){return e.url(t.id)}}},[n("a",{attrs:{href:"javascript:void(0);"}},[e._v(e._s(t.name))])])})),0),n("div",{staticClass:"concent",attrs:{id:"concent"}},[n("div",{staticStyle:{"text-align":"right"}},[n("el-select",{staticStyle:{width:"100px","text-align":"left"},attrs:{"popper-append-to-body":!1,placeholder:"请选择"},on:{change:e.getdoc},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}},e._l(e.versions,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("mavon-editor",{attrs:{subfield:!1,defaultOpen:"preview",editable:!1,toolbarsFlag:!1,scrollStyle:!0},model:{value:e.doc,callback:function(t){e.doc=t},expression:"doc"}})],1),n("div",{staticStyle:{display:"none",overflow:"hidden"},attrs:{id:"test"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textarea,expression:"textarea"}],attrs:{id:"textarea",contenteditable:"true"},domProps:{value:e.textarea},on:{keydown:e.textareaTab,input:function(t){t.target.composing||(e.textarea=t.target.value)}}}),n("el-button",{staticStyle:{position:"absolute",bottom:"10px",right:"10px"},attrs:{type:"primary"},on:{click:e.click}},[e._v("立即运行")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.zxtsshow,expression:"!zxtsshow"}],attrs:{id:"zxtsbtn"},on:{click:e.openlayer}},[e._v("在线调试")])])},o=[],i=n("bc3a"),s=n.n(i),c={name:"Doc",data(){return{doc:void 0,aData:[],active:void 0,loading:!0,versions:this.$layer.versions.reverse(),version:this.$layer.version,zxtsshow:!1,textarea:"{\n  title:'在线调试',\n  content:'配置各种参数，试试效果'\n}"}},created(){this.$layer.o.instances=[],this.getdoc()},mounted(){this.openlayer(),document.getElementById("concent").addEventListener("scroll",this.getactivedom)},beforeDestroy(){document.getElementById("concent")&&document.getElementById("concent").removeEventListener("scroll",this.getactivedom)},methods:{textareaTab(e){if(9===e.keyCode)if(e&&e.preventDefault){var t=document.getElementById("textarea").selectionStart;this.textarea=this.textarea.slice(0,t)+"  "+this.textarea.slice(t),this.$nextTick(()=>{document.getElementById("textarea").setSelectionRange(t+2,t+2)}),e.preventDefault()}else window.event.returnValue=!1},click(){try{window.eval(`Vue.prototype.$layer(${this.textarea})`)}catch(e){this.$message.error("您的代码输入错误!"+e)}},openlayer(){this.$layer({title:"在线调试",settop:!0,skin:"win7",offset:[document.documentElement.scrollHeight-240,document.getElementById("concent").getBoundingClientRect().x+document.getElementById("concent").clientWidth-325],content:document.getElementById("test"),resizing:(e,t,n)=>{document.getElementById("textarea").style.height=n-42+"px"},success:()=>{this.zxtsshow=!0},end:()=>{this.zxtsshow=!1}})},url(e){document.getElementById(e).scrollIntoView(!0),this.active=e},listA(){const e=[];for(let t=0;t<document.getElementsByTagName("a").length;t++)if(""!==document.getElementsByTagName("a")[t].id){let n={id:document.getElementsByTagName("a")[t].id,name:document.getElementsByTagName("a")[t].parentNode.innerText.split("-")[0],class:document.getElementsByTagName("a")[t].parentNode.tagName};e.push(n)}this.aData=e.slice(0,parseInt(e.length/2)),this.active=this.aData[0].id},getdoc(){this.loading=!0,s.a.get(`https://unpkg.com/layer-vue@${this.version}/README.md`).then(e=>{this.doc=e.data,console.log(e),this.$nextTick(()=>{this.listA(),this.loading=!1})}).catch(e=>{this.loading=!1,console.error(e),this.$message.error("文档错误，加载失败！")})},getactivedom(){let e=[...document.getElementById("concent").getElementsByTagName("h1"),...document.getElementById("concent").getElementsByTagName("h2"),...document.getElementById("concent").getElementsByTagName("h3"),...document.getElementById("concent").getElementsByTagName("h4"),...document.getElementById("concent").getElementsByTagName("h5")],t=e.find(e=>Math.abs(document.getElementById("concent").scrollTop-e.offsetTop)<120);if(void 0!==t){this.active=t.children[0].id;const e=document.getElementsByClassName("active")[0];e.scrollIntoView(!0)}}}},l=c,r=(n("b83f"),n("2877")),d=Object(r["a"])(l,a,o,!1,null,null,null);t["default"]=d.exports},b83f:function(e,t,n){"use strict";n("f385")},f385:function(e,t,n){}}]);
//# sourceMappingURL=chunk-786de6f7.030be895.js.map